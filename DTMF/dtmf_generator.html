<!DOCTYPE html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="./css/main.css" rel="stylesheet" type="text/css" />

    <body>
      <script src="./js/DTMFgenerator.js"></script>

      <table class="dialpad">
        <tbody>
          <tr>
            <td></td>
            <td>1209Hz</td>
            <td>1336Hz</td>
            <td>1477Hz</td>
            <td>1633Hz</td>
          </tr>
          <tr>
            <td>697Hz</td>
            <td>
              <button
                id="one"
                class="beginDial"
                onmousedown="startTone(697.0, 1209.0)"
                data-freq="697.0, 1209.0"
              >
                1
              </button>
            </td>
            <td>
              <button
                id="two"
                class="beginDial"
                onmousedown="startTone(697.0, 1336.0)"
                data-freq="697.0, 1336.0"
              >
                2
              </button>
            </td>
            <td>
              <button
                id="three"
                class="beginDial"
                onmousedown="startTone(697.0, 1477.0)"
                data-freq="697.0, 1477.0"
              >
                3
              </button>
            </td>
            <td>
              <button
                id="dtmf-a"
                class="beginDial"
                onmousedown="startTone(697.0, 1633.0)"
                data-freq="697.0, 1633.0"
              >
                A
              </button>
            </td>
          </tr>
          <tr>
            <td>770Hz</td>
            <td>
              <button
                id="four"
                class="beginDial"
                onmousedown="startTone(770.0, 1209.0)"
                data-freq="770.0, 1209.0"
              >
                4
              </button>
            </td>
            <td>
              <button
                id="five"
                class="beginDial"
                onmousedown="startTone(770.0, 1336.0)"
                data-freq="770.0, 1336.0"
              >
                5
              </button>
            </td>
            <td>
              <button
                id="six"
                class="beginDial"
                onmousedown="startTone(770.0, 1477.0)"
                data-freq="770.0, 1477.0"
              >
                6
              </button>
            </td>
            <td>
              <button
                id="dtmf-b"
                class="beginDial"
                onmousedown="startTone(770.0, 1633.0)"
                data-freq="770.0, 1633.0"
              >
                B
              </button>
            </td>
          </tr>
          <tr>
            <td>852Hz</td>
            <td>
              <button
                id="seven"
                class="beginDial"
                onmousedown="startTone(852.0, 1209.0)"
                data-freq="852.0, 1209.0"
              >
                7
              </button>
            </td>
            <td>
              <button
                id="eight"
                class="beginDial"
                onmousedown="startTone(852.0, 1336.0)"
                data-freq="852.0, 1336.0"
              >
                8
              </button>
            </td>
            <td>
              <button
                id="nine"
                class="beginDial"
                onmousedown="startTone(852.0, 1477.0)"
                data-freq="852.0, 1477.0"
              >
                9
              </button>
            </td>
            <td>
              <button
                id="dtmf-c"
                class="beginDial"
                onmousedown="startTone(852.0, 1633.0)"
                data-freq="852.0, 1633.0"
              >
                C
              </button>
            </td>
          </tr>
          <tr>
            <td>941Hz</td>
            <td>
              <button
                class="beginDial"
                onmousedown="startTone(941.0, 1209.0)"
                data-freq="941.0, 1209.0"
              >
                *
              </button>
            </td>
            <td>
              <button
                id="zero"
                class="beginDial"
                onmousedown="startTone(941.0, 1336.0)"
                data-freq="941.0, 1336.0"
              >
                0
              </button>
            </td>
            <td>
              <button
                class="beginDial"
                onmousedown="startTone(941.0, 1477.0)"
                data-freq="941.0, 1477.0"
              >
                #
              </button>
            </td>
            <td>
              <button
                id="dtmf-d"
                class="beginDial"
                onmousedown="startTone(941.0, 1633.0)"
                data-freq="941.0, 1633.0"
              >
                D
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <form>
        <div id="duration-input">
          <label for="example">Duration m/s</label>
          <input
            autocomplete="off"
            id="duration"
            type="text"
            name="text"
            value="1000"
            onkeydown="return (event.keyCode!=13)"
          />
        </div>
      </form>

      <script>
        let duration = document.getElementById('duration').value;

        document.getElementById('duration').addEventListener('input', event => {
          duration = document.getElementById('duration').value;
        });

        function startTone(tone1, tone2) {
          dialTone(tone1, tone2, duration);
        }
      </script>
    </body>
  </head>
</html>
